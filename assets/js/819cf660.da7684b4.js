"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2504],{3905:function(e,n,t){t.d(n,{Zo:function(){return l},kt:function(){return p}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),h=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},l=function(e){var n=h(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,s=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),d=h(t),p=a,f=d["".concat(s,".").concat(p)]||d[p]||u[p]||c;return t?r.createElement(f,i(i({ref:n},l),{},{components:t})):r.createElement(f,i({ref:n},l))}));function p(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,i=new Array(c);i[0]=d;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var h=2;h<c;h++)i[h]=t[h];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7873:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return h},toc:function(){return l},default:function(){return d}});var r=t(7462),a=t(3366),c=(t(7294),t(3905)),i=["components"],o={id:"Cachebench_Overview",title:"Overview"},s=void 0,h={unversionedId:"Cache_Library_User_Guides/Cachebench_Overview",id:"Cache_Library_User_Guides/Cachebench_Overview",isDocsHomePage:!1,title:"Overview",description:"CacheBench is a benchmark and stress testing  tool to evaluate cache",source:"@site/docs/Cache_Library_User_Guides/Cachebench_Overview.md",sourceDirName:"Cache_Library_User_Guides",slug:"/Cache_Library_User_Guides/Cachebench_Overview",permalink:"/docs/Cache_Library_User_Guides/Cachebench_Overview",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/Cache_Library_User_Guides/Cachebench_Overview.md",version:"current",frontMatter:{id:"Cachebench_Overview",title:"Overview"},sidebar:"cachebenchSideBar",next:{title:"Configuring cachebench parameters",permalink:"/docs/Cache_Library_User_Guides/Configuring_cachebench_parameters"}},l=[{value:"Uses of cachebench",id:"uses-of-cachebench",children:[]},{value:"Building  cachebench",id:"building--cachebench",children:[]}],u={toc:l};function d(e){var n=e.components,o=(0,a.Z)(e,i);return(0,c.kt)("wrapper",(0,r.Z)({},u,o,{components:n,mdxType:"MDXLayout"}),(0,c.kt)("p",null,"CacheBench is a benchmark and stress testing  tool to evaluate cache\nperformance with real hardware and real cache workloads. CacheBench takes in a\nconfiguration that describes the cache workload  and the cache configuration\nand simulates  the cache behavior by instantiating a CacheLib cache. It runs\nthe workload and emits  results periodically and at the end. The results\ninclude metrics such as hit rate, evictions, write rate to flash cache,\nlatency, etc. The workload configs can be hand-written by a human, produced by\na workload analyzer, or backed by raw production cachelib traces. The main\ncustomization points into CacheBench are through writing workload configs or\ncustom workload generators. See ",(0,c.kt)("a",{parentName:"p",href:"Configuring_cachebench_parameters"},"configuring\ncachebench")," for more details."),(0,c.kt)("p",null,(0,c.kt)("img",{src:t(8567).Z})),(0,c.kt)("h2",{id:"uses-of-cachebench"},"Uses of cachebench"),(0,c.kt)("p",null,"CacheBench can be configured and used for several purposes depending on the\ndeveloper's need. The following are few examples."),(0,c.kt)("ol",null,(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"Evaluating cache heuristics: CacheBench can be used to compare the cache\nperformance (hit ratio) of various configuration options for existing\nhueristics and new heuristics. For example, given a cache size and\nworkload, comparing LRU vs 2Q vs FIFO.")),(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"Evaluating throughput and scalability: By representing the workload in\nCacheBench, you can compare the throughput of various cache setups by\nchanging the overall cache configuration. For example, given a workload,\nidentifying the maximum throughput of dram cache and hybrid cache setups.")),(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"Evaluate hardware choices: CacheBench workloads can be evaluated on various\nhardware choices to compare the trade-offs between them. For example\nCacheBench can replay the workload against a 100GB dram cache and a 10GB\ndram + 90 GB SSD cache to compare the application performance.")),(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"Testing for correctness and crashes: When adding new features to CacheLib,\nin addition to unit tests, CacheBench is leveraged to stress test the\nfeature's correctness in a concurrent multi-threaded environment.\nCacheBench provides options to ensure the consistency of the cache by\nvalidating the data correctness of the operations. See ",(0,c.kt)("a",{parentName:"p",href:"Configuring_cachebench_parameters#consistency-checking"},"configuring\nconsistency checking")))),(0,c.kt)("h2",{id:"building--cachebench"},"Building  cachebench"),(0,c.kt)("p",null,"Follow instructions in ",(0,c.kt)("a",{parentName:"p",href:"../installation/installation"},"Installation")," to build\ncachebench. This should install cachebench in your local machine under\n",(0,c.kt)("inlineCode",{parentName:"p"},"opt/cachelib/bin/cachebench")))}d.isMDXComponent=!0},8567:function(e,n,t){n.Z=t.p+"assets/images/cachebench-25d1d476ed27af8ec3a0b5033571dd1a.png"}}]);